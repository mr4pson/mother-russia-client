<div class="top-image">
    <div class="top-image-content" [style.backgroundImage]="watch && watch.header && innerWidth > 767 ? 'url(http://api-mr.cubaproducts.ru.swtest.ru/uploads/'+watch.header +')' : watch && watch.headerMobile && innerWidth <= 767 ? 'url(http://api-mr.cubaproducts.ru.swtest.ru/uploads/'+watch.headerMobile +')' : ''">
        <div class="container">
            <div class="top-content">
                <div class="top-h">Watch</div>
            </div>
        </div>
    </div>
</div>
<div class="wrap">
    <div class="container">
        <div class="breadcrumbs">
            <a [routerLink]="['/']">Home</a>
            <span class="active">/</span>
            <a [routerLink]="['/learn']">Learn</a>
            <span class="active">/</span>
            <a [routerLink]="['/watch']">Watch</a>
            <span *ngIf="watch">/</span>
            <span *ngIf="watch">{{ watch.name }}</span>
        </div>
        <div class="watch-detail-content" *ngIf="watch">
            <div class="watch-detail-h">{{ watch.name }}</div>
            <div class="watch-detail-hrus">{{ watch.nameRus }}</div>
            <div class="main-content">
                <div class="left-side-with-poster">
                    <!--div *ngIf="watch.youtube.trim() !== ''">
                        <ngx-y2-player
                        #video
                        [videoId]="watch.youtube"
                        [playerOptions]="playerOptions"
                        [container]="container"
                        (ready)="onReady($event)"
                        ></ngx-y2-player>
                        <div class="bottom-bar">
                            <a *ngIf="watch.sovietUrl != ''" class="watch-sovite" [href]="watch.sovietUrl" target="_blank">
                                <img src="/assets/images/watch-sovite.png"/>
                            </a>
                            <a *ngIf="watch.imdbUrl != ''" class="watch-imdb" [href]="watch.imdbUrl" target="_blank">
                                <img src="/assets/images/watch-imdb.png"/>
                            </a>
                            <div class="social-nets-filter-wrap">
                                <div class="social-nets-filter-left" [ngClass]="socialNetsBtnClicked === false ? 'slideup' : 'slidedown'">
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/facebook-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/pinterest-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/twitter-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/whatsapp.png" width="40px"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/telegram-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/mail.png"/>
                                    </a>
                                </div>
                                <span class="social-nets-filter-plus" [ngClass]="{'cross': socialNetsBtnClicked === true}" (click)="socialNetsBtnClicked = !socialNetsBtnClicked">
                                    <img src="assets/images/plus.png"/>
                                </span>
                            </div>
                        </div>
                    </div-->
                    <div>
                        <img class="watch-detail-img" [src]="'http://api-mr.cubaproducts.ru.swtest.ru/uploads/'+watch.detail"/>
                    </div>
                </div>
                <div class="right-side-with-poster">
                    <div class="d-block d-md-none watch-emblems-top">
                        <a *ngIf="watch.youtube != ''" class="watch-youtube" [href]="'https://www.youtube.com/watch?v='+watch.youtube" target="_blank">
                            <img src="/assets/images/watch-youtube.png"/>
                        </a>
                        <a *ngIf="watch.sovietUrl != ''" class="watch-sovite" [href]="watch.sovietUrl" target="_blank">
                            <img src="/assets/images/watch-sovite.png"/>
                        </a>
                        <a *ngIf="watch.imdbUrl != ''" class="watch-imdb" [href]="watch.imdbUrl" target="_blank">
                            <img src="/assets/images/watch-imdb.png"/>
                        </a>
                    </div>
                    <div class="right-side-h">Plot</div>
                    <div class="right-side-p" [innerHTML]="watch.plot"></div>
                    <div class="right-side-h">Information</div>
                    <div class="watch-info-wrap">
                        <div class="watch-info-row">
                            <b>Youtube subtitles:</b> {{ watch.subtitleLanguage.name }}
                        </div>
                        <div class="watch-info-row">
                            <b>Rating:</b> {{ watch.rating }}
                        </div>
                        <div class="watch-info-row">
                            <b>Release year:</b> {{ watch.year }}
                        </div>
                        <div class="watch-info-row">
                            <b>Country:</b> {{ watch.country }}
                        </div>
                        <div class="watch-info-row">
                            <b>Genre:</b> 
                            <span *ngFor="let genre of genres"> {{ genre.name }}</span>
                        </div>
                        <div class="watch-info-row">
                            <b>Director:</b> {{ watch.director }}
                        </div>
                        <div class="watch-info-row">
                            <b>Starring:</b> {{ watch.starring }}
                        </div>
                        <!--a routerLink="#" class="subtitles-info-wrap" *ngIf="watch.youtube.trim() !== ''">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="info-icon">
                                <path d="M9.99958 0C4.47746 0 0 4.47746 0 9.99958C0 15.5217 4.47746 20 9.99958 20C15.5217 20 20 15.5217 20 9.99958C20 4.47746 15.5217 0 9.99958 0ZM12.0813 15.498C11.5666 15.7012 11.1568 15.8552 10.8495 15.9619C10.5431 16.0686 10.1867 16.1219 9.78116 16.1219C9.1581 16.1219 8.67302 15.9695 8.32762 15.6656C7.98222 15.3617 7.81037 14.9765 7.81037 14.5084C7.81037 14.3263 7.82307 14.1401 7.84847 13.9505C7.87471 13.7608 7.91619 13.5475 7.97291 13.3079L8.61714 11.0324C8.67386 10.814 8.72296 10.6066 8.7619 10.4135C8.80085 10.2188 8.81947 10.0402 8.81947 9.87767C8.81947 9.58815 8.75937 9.38497 8.64 9.27069C8.51894 9.1564 8.29122 9.10053 7.95175 9.10053C7.78582 9.10053 7.61481 9.12508 7.43958 9.17672C7.26603 9.23005 7.11534 9.27831 6.99175 9.32571L7.1619 8.62476C7.58349 8.45291 7.9873 8.30561 8.37249 8.1837C8.75767 8.06011 9.12169 7.99915 9.46455 7.99915C10.0834 7.99915 10.5608 8.14984 10.8969 8.44783C11.2313 8.74667 11.3998 9.13524 11.3998 9.6127C11.3998 9.71175 11.3879 9.88614 11.3651 10.135C11.3422 10.3848 11.299 10.6125 11.2364 10.8216L10.5956 13.0904C10.5431 13.2724 10.4965 13.4806 10.4542 13.7134C10.4127 13.9462 10.3924 14.124 10.3924 14.2434C10.3924 14.5448 10.4593 14.7505 10.5947 14.8597C10.7285 14.9689 10.963 15.0239 11.2948 15.0239C11.4514 15.0239 11.6267 14.996 11.8248 14.9418C12.0212 14.8876 12.1634 14.8394 12.2531 14.7979L12.0813 15.498ZM11.9678 6.2891C11.669 6.56677 11.3092 6.70561 10.8885 6.70561C10.4686 6.70561 10.1062 6.56677 9.80487 6.2891C9.50519 6.01143 9.35365 5.67365 9.35365 5.27915C9.35365 4.8855 9.50603 4.54688 9.80487 4.26667C10.1062 3.98561 10.4686 3.84593 10.8885 3.84593C11.3092 3.84593 11.6698 3.98561 11.9678 4.26667C12.2667 4.54688 12.4165 4.8855 12.4165 5.27915C12.4165 5.6745 12.2667 6.01143 11.9678 6.2891Z" fill="#C4C4C4"/>
                            </svg>
                            <span class="subtitles-info-text">Check out how to enable subtitles</span>
                        </a-->
                        <div class="bottom-bar">
                            <div class="d-none d-md-block">
                                <a *ngIf="watch.youtube != ''" class="watch-youtube" [href]="'https://www.youtube.com/watch?v='+watch.youtube" target="_blank">
                                    <img src="/assets/images/watch-youtube.png"/>
                                </a>
                                <a *ngIf="watch.sovietUrl != ''" class="watch-sovite" [href]="watch.sovietUrl" target="_blank">
                                    <img src="/assets/images/watch-sovite.png"/>
                                </a>
                                <a *ngIf="watch.imdbUrl != ''" class="watch-imdb" [href]="watch.imdbUrl" target="_blank">
                                    <img src="/assets/images/watch-imdb.png"/>
                                </a>
                            </div>
                            <div class="social-nets-filter-wrap">
                                <div class="social-nets-filter-left" [ngClass]="socialNetsBtnClicked === false ? 'slideup' : 'slidedown'">
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/facebook-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/pinterest-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/twitter-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/whatsapp.png" width="40px"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/telegram-r.png"/>
                                    </a>
                                    <a href="#" class="social-nets-filter-i">
                                        <img src="assets/images/mail.png"/>
                                    </a>
                                </div>
                                <span class="social-nets-filter-plus" [ngClass]="{'cross': socialNetsBtnClicked === true}" (click)="socialNetsBtnClicked = !socialNetsBtnClicked">
                                    <img src="assets/images/plus.png"/>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="related-wrap">
                    <div class="related-h">Related</div>
                    <div class="related-content" *ngIf="watches && watches.length > 0">
                        <a *ngFor="let watch of watches" [href]="'/watch/'+watch.id" class="watch-item">
                            <div 
                                class="watch-img" 
                                [style.backgroundImage]="'url(http://api-mr.cubaproducts.ru.swtest.ru/uploads/'+ watch.preview +')'">
                            </div>
                            <div class="watch-name">{{ watch.name }} ({{ watch.year }})</div>
                        </a>
                    </div>
                    <div *ngIf="!watches && watches.length === 0">
                        <p>No matches</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>